name: Update Ruff version
on:
  push:

jobs:
  sync-ruff:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    - uses: actions/setup-python@v4
    - uses: snok/install-poetry@v1
    - run: poetry install
    - run: poetry run python riff/release/check_ruff_version.py
    - name: Check Ruff Version and Take Action
      if: steps.sync-ruff.outputs.newer_ruff_version == 'false'
      run: |
        echo "ruff is not newer"
